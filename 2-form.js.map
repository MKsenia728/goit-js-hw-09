{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst keyFormDataLS = 'feedback-form-state';\nconst formEl = document.querySelector('.feedback-form');\n\n(function fillFormFromLS() {\n  try {\n    if (localStorage.length === 0) {\n      return;\n    }\n\n    const dataFormFromLS = JSON.parse(localStorage.getItem(keyFormDataLS));\n\n    for (let key in dataFormFromLS) {\n      const value = dataFormFromLS[key];\n      if (value) {\n        formEl.elements[key].value = value;\n        formData[key] = value;\n      }\n    }\n  } catch (err) {\n    console.log(err);\n  }\n})();\n\nconst saveDataFormToLS = event => {\n  const formField = event.target;\n  formData[formField.name] = formField.value;\n\n  localStorage.setItem(keyFormDataLS, JSON.stringify(formData));\n};\n\nconst isFielsdNonEmpty = obj => \n  Object.values(obj).every((el) => el.length > 0);\n;\n\nconst clearDataFormLS = event => {\n  event.preventDefault();\n  if (isFielsdNonEmpty(formData)) {\n    const formEl = event.currentTarget;\n    formEl.reset();\n    console.log(formData);\n    Object.keys(formData).forEach(key => delete formData[key]);\n    localStorage.removeItem(keyFormDataLS);\n  } else {\n    console.log('Fill please all fields');\n  }\n};\n\nformEl.addEventListener('input', saveDataFormToLS);\nformEl.addEventListener('submit', clearDataFormLS);\n"],"names":["formData","keyFormDataLS","formEl","dataFormFromLS","key","value","err","saveDataFormToLS","event","formField","isFielsdNonEmpty","obj","el","clearDataFormLS"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAgB,sBAChBC,EAAS,SAAS,cAAc,gBAAgB,GAErD,UAA0B,CACzB,GAAI,CACF,GAAI,aAAa,SAAW,EAC1B,OAGF,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQF,CAAa,CAAC,EAErE,QAASG,KAAOD,EAAgB,CAC9B,MAAME,EAAQF,EAAeC,CAAG,EAC5BC,IACFH,EAAO,SAASE,CAAG,EAAE,MAAQC,EAC7BL,EAASI,CAAG,EAAIC,EAEnB,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,KAEA,MAAMC,EAAmBC,GAAS,CAChC,MAAMC,EAAYD,EAAM,OACxBR,EAASS,EAAU,IAAI,EAAIA,EAAU,MAErC,aAAa,QAAQR,EAAe,KAAK,UAAUD,CAAQ,CAAC,CAC9D,EAEMU,EAAmBC,GACvB,OAAO,OAAOA,CAAG,EAAE,MAAOC,GAAOA,EAAG,OAAS,CAAC,EAG1CC,EAAkBL,GAAS,CAC/BA,EAAM,eAAc,EAChBE,EAAiBV,CAAQ,GACZQ,EAAM,cACd,MAAK,EACZ,QAAQ,IAAIR,CAAQ,EACpB,OAAO,KAAKA,CAAQ,EAAE,QAAQI,GAAO,OAAOJ,EAASI,CAAG,CAAC,EACzD,aAAa,WAAWH,CAAa,GAErC,QAAQ,IAAI,wBAAwB,CAExC,EAEAC,EAAO,iBAAiB,QAASK,CAAgB,EACjDL,EAAO,iBAAiB,SAAUW,CAAe"}